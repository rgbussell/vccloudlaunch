#!/bin/sh
# testVC: Run a test fitting run with a standard data set

# This is a test script for convenience. To run the code for a data set
# use something like this: VC_cloudRun rbussell ~/data/compliance/kb_study/180707_PupAlz/PupAlz_119

#implement these modes
# testcloud: run unit tests in cloud and stop
# testrun (or no mode given): run the analysis with standard data set

dataDir=~/data/compliance/kb_study/180707_PupAlz/PupAlz_119
userid=rbussell

#set the testing mode for this run
#implement changes to the VC_cloudRun script later !!!
mode=runcloud
if [ "$#" -gt "0" ]; then
  mode=$1
  inArgs="$userid $dataDir $mode"
else
  inArgs="$userid $dataDir"
fi

echo $mode | grep -q testcloud && scriptName=VC_cloudRun
echo $mode | grep -q runcloud && scriptName=VC_cloudRun

#Run the script
cmd="$scriptName $inArgs"
echo testVC running: $scriptName $inArgs
$cmd
